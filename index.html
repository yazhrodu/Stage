<!DOCTYPE html>
<html>
	<head>
		<meta charset ="utf-8"/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
		<title>Socket.io</title>
	</head>
	<body>
		<h1>Communication avec socket.io !</h1>
		<p><input type="button" value="tester le serveur" id="poke"></p>
		
		<script src="http://localhost:8080/socket.io/socket.io.js"></script>
		<script>
			var socket = io.connect('http://localhost:8080');
			//on demande le pseudo au visiteur..
			var pseudo = prompt('Quel est votre pseudo?');
			//et on l'envoie avec le signal "petit_nouveau" (pour le différencier de "message)
			socket.emit('petit_nouveau', pseudo);
			socket.on('message', function(message){
				alert('le serveur a un message pour vous : '+ message);
			});
			
			$('#poke').click(function(){
				socket.emit('message', 'Salut serveur, ça va?');
			});
		
		</script>
		
	</body>
</html>